<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PradoBox</title>
    <link rel="manifest" href="/static/manifest.json">
    <meta name="theme-color" content="#EF4444">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Cobranzas">
    <link rel="apple-touch-icon" href="/static/icons/icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/static/icons/icon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/static/icons/icon-16x16.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.3.0/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
    <script src="/static/js/auth-service.js"></script>
    <script src="/static/js/indexdb-service.js"></script>
    <script src="/static/js/import-service.js"></script>
    <script>
        // primary: '#EF4444',
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#031E68',
                        secondary: '#64748B',
                        accent: '#F97316',
                        success: '#10B981',
                        warning: '#F59E0B',
                        error: '#EF4444'
                    }
                }
            }
        }
    </script>
    <style>
        .chart-parent{
            position: relative;
            /*width: 58.7vw;*/
            height: 30vh;
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <div id="app" class="min-h-screen">
        <!-- Header -->
        <header class="bg-primary text-white shadow-lg">
            <div class="container mx-auto px-4 py-4 flex items-center justify-between">
                <div class="flex items-center">
                    <img src="/static/icons/icon-72x72.png" alt="Logo" class="h-12 w-12 mr-3">
                    <button id="backBtn" class="mr-3 text-white hover:text-gray-200 hidden">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                        </svg>
                    </button>
                    <h1 id="pageTitle" class="text-xl font-bold">Situación</h1>
                </div>
                <div class="flex items-center space-x-3">
                    <span id="userInfo" class="text-sm text-white opacity-90"></span>
                    <button id="refreshBtn" class="text-white hover:text-gray-200">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                        </svg>
                    </button>
                    <button id="logoutBtn" class="text-white hover:text-gray-200">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="container mx-auto px-4 py-6 pb-20">
            <!-- Dashboard View -->
            <div id="dashboard-view" class="space-y-6">
                <!-- Progress Indicators -->
                <div class="bg-white rounded-lg shadow-md p-6">
                    <h2 class="text-lg font-semibold text-gray-800 mb-4">¿CÓMO VAMOS?</h2>
                    <div class="space-y-4">
                        <div class="flex items-center justify-between">
                            <span class="text-sm text-gray-600">Van</span>
                            <span class="text-sm font-medium"><p class="text-sm text-gray-600" id="lessSales">144k jun</p></span>
                            <span class="text-sm font-medium"><p class="text-sm text-gray-600" id="topSales">155k may</p></span>
                            <span class="text-sm text-gray-600">Faltan</span>
                        </div>
                        <div class="relative">
                            <div class="w-full bg-gray-200 rounded-full h-4">
                                <div id="salesPercentage" class="bg-blue-500 h-4 rounded-full" style="width: 48%"></div>
                            </div>
                            <div class="flex justify-between text-sm mt-1">
                                <span class="text-gray-600"><p class="text-sm text-gray-600" id="currentSales">69.4k</p></span>
                                <span class="text-gray-600"><p class="text-sm text-gray-600" id="remainingSales">85.8k</p></span>
                            </div>
                        </div>
                        <div class="relative">
                            <div class="w-full bg-gray-200 rounded-full h-4">
                                <div id="daysPercentage" class="bg-red-500 h-4 rounded-full" style="width: 99%"></div>
                            </div>
                            <div class="flex justify-between text-sm mt-1">
                                <span class="text-gray-600"><p class="text-sm text-gray-600" id="currentDay">25d</p></span>
                                <span class="text-gray-600"><p class="text-sm text-gray-600" id="remainingDays">6d</p></span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Cuentas por Cobrar -->
                <div class="bg-white rounded-lg shadow-md p-6">
                    <h2 class="text-lg font-semibold text-gray-800 mb-4">CUENTAS POR COBRAR</h2>
                    <div class="grid grid-cols-3 gap-4 mb-4">
                        <div class="text-center">
                            <p class="text-xs text-gray-500">Vencido</p>
                            <p class="text-sm font-semibold text-red-500" id="totalVencido">82,224.59</p>
                        </div>
                        <div class="text-center">
                            <p class="text-xs text-gray-500">Cantidad</p>
                            <p class="text-sm font-semibold text-red-500" id="cantidadVencido">87</p>
                        </div>
                        <div class="text-center">
                            <p class="text-xs text-gray-500">Días</p>
                            <p class="text-sm font-semibold text-red-500" id="diasVencido">38</p>
                        </div>
                    </div>
                    <div class="grid grid-cols-3 gap-4 mb-4">
                        <div class="text-center">
                            <p class="text-xs text-gray-500">Total</p>
                            <p class="text-sm font-semibold text-gray-700" id="totalGeneral">104,949.48</p>
                        </div>
                        <div class="text-center">
                            <p class="text-xs text-gray-500">Cantidad</p>
                            <p class="text-sm font-semibold text-gray-700" id="cantidadTotal">129</p>
                        </div>
                        <div class="text-center">
                            <p class="text-xs text-gray-500">Días</p>
                            <p class="text-sm font-semibold text-gray-700" id="diasTotal">29</p>
                        </div>
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <div class="text-center">
                            <p class="text-xs text-gray-500">Neto</p>
                            <p class="text-sm font-semibold text-gray-700" id="totalNeto">100,771.82</p>
                        </div>
                        <div class="text-center">
                            <p class="text-xs text-gray-500">Créditos</p>
                            <p class="text-sm font-semibold text-red-500" id="totalCreditos">4,177.66</p>
                        </div>
                    </div>
                </div>

                <!-- Documentos Pendientes -->
                <div id="pendingDocsCard" class="bg-white rounded-lg shadow-md p-6">
                    <div class="flex items-center justify-between mb-4">
                        <h2 class="text-lg font-semibold text-gray-800">DOCUMENTOS PENDIENTES</h2>
                        <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </div>
                </div>

                <!-- Charts -->
                <div class="space-y-6">
                    <div class="bg-white rounded-lg shadow-md p-6 chart-parent">
                        <h2 class="text-lg font-semibold text-gray-800 mb-4">VENTAS</h2>
                        <canvas id="ventasChart"></canvas>
                    </div>
                    <br/>
                </div>
            </div>

            <!-- Clientes View -->
            <div id="clientes-view" class="hidden">
                <!-- Search Panel -->
                <div class="bg-white rounded-lg shadow-md p-4 mb-4">
                    <div class="relative">
                        <input 
                            type="text" 
                            id="clienteSearchInput" 
                            placeholder="Buscar cliente por nombre..." 
                            class="w-full px-4 py-3 pl-10 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                        >
                        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                            <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                            </svg>
                        </div>
                        <!-- Filters toggle button -->
                        <button id="toggleFiltersBtn" type="button" class="absolute inset-y-0 right-8 pr-2 flex items-center text-gray-500 hover:text-gray-700" title="Filtros">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 01.8 1.6l-4.2 5.6a1 1 0 00-.2.6v3.8a1 1 0 01-1.447.894l-2-1A1 1 0 018 14.6V12a1 1 0 00-.2-.6L3.2 5.6A1 1 0 013 5z" clip-rule="evenodd" />
                            </svg>
                        </button>
                        <div id="clearSearchBtn" class="absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer hidden">
                            <svg class="w-5 h-5 text-gray-400 hover:text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                            </svg>
                        </div>
                    </div>
                    <!-- Search Filters -->
                    <div id="searchFilters" class="mt-3 bg-gray-50 border border-gray-200 rounded-lg p-3 hidden">
                        <div class="grid grid-cols-2 gap-3">
                            <!-- lastYearSales -->
                            <div>
                                <label for="filterLastYearSales" class="block text-xs text-gray-600 mb-1">Ventas último año</label>
                                <select id="filterLastYearSales" class="w-full border-gray-300 rounded-md text-sm">
                                    <option value="all">(Todas)</option>
                                    <option value="lessTen">0-10</option>
                                    <option value="lestHundred">11-100</option>
                                    <option value="lestThousand">101-1000</option>
                                    <option value="lestTenThousand">1001-10000</option>
                                    <option value="overTenThousand">>=10001</option>
                                </select>
                            </div>
                            <!-- overdueDebt -->
                            <div>
                                <label for="filterOverdueDebt" class="block text-xs text-gray-600 mb-1">Deuda vencida</label>
                                <select id="filterOverdueDebt" class="w-full border-gray-300 rounded-md text-sm">
                                    <option value="all">(Todas)</option>
                                    <option value="lessTen">0-10</option>
                                    <option value="lestHundred">11-100</option>
                                    <option value="lestThousand">101-1000</option>
                                    <option value="lestTenThousand">1001-10000</option>
                                    <option value="overTenThousand">>=10001</option>
                                </select>
                            </div>
                            <!-- totalOverdue -->
                            <div>
                                <label for="filterTotalOverdue" class="block text-xs text-gray-600 mb-1">Total por cobrar</label>
                                <select id="filterTotalOverdue" class="w-full border-gray-300 rounded-md text-sm">
                                    <option value="all">(Todas)</option>
                                    <option value="lessTen">0-10</option>
                                    <option value="lestHundred">11-100</option>
                                    <option value="lestThousand">101-1000</option>
                                    <option value="lestTenThousand">1001-10000</option>
                                    <option value="overTenThousand">>=10001</option>
                                </select>
                            </div>
                            <!-- daysPastDue -->
                            <div>
                                <label for="filterDaysPastDue" class="block text-xs text-gray-600 mb-1">Días vencidos</label>
                                <select id="filterDaysPastDue" class="w-full border-gray-300 rounded-md text-sm">
                                    <option value="all">(Todas)</option>
                                    <option value="upToSeven">0-7</option>
                                    <option value="upToFourteen">8-14</option>
                                    <option value="upToThirty">15-30</option>
                                    <option value="upToSixty">31-60</option>
                                    <option value="upToNinety">61-90</option>
                                </select>
                            </div>
                            <!-- daysSinceLastInvoice -->
                            <div>
                                <label for="filterDaysSinceLastInvoice" class="block text-xs text-gray-600 mb-1">Días desde última factura</label>
                                <select id="filterDaysSinceLastInvoice" class="w-full border-gray-300 rounded-md text-sm">
                                    <option value="all">(Todas)</option>
                                    <option value="upToSeven">0-7</option>
                                    <option value="upToFourteen">8-14</option>
                                    <option value="upToThirty">15-30</option>
                                    <option value="upToSixty">31-60</option>
                                    <option value="upToNinety">61-90</option>
                                </select>
                            </div>
                        </div>
                        <!-- Separator -->
                        <div class="my-3 border-t border-gray-200"></div>
                        <!-- Order controls -->
                        <div class="grid grid-cols-2 gap-3 items-end">
                            <div>
                                <label for="orderField" class="block text-xs text-gray-600 mb-1">Ordenar por</label>
                                <select id="orderField" class="w-full border-gray-300 rounded-md text-sm">
                                    <option value="">(Sin orden)</option>
                                    <option value="lastYearSales">Ventas Último Año</option>
                                    <option value="overdueDebt">Deuda Vencida</option>
                                    <option value="totalOverdue">Deuda Total</option>
                                    <option value="daysSinceLastInvoice"></option>
                                </select>
                            </div>
                            <label class="inline-flex items-center space-x-2">
                                <input type="checkbox" id="orderDesc" class="rounded border-gray-300">
                                <span class="text-sm text-gray-700">Descendente</span>
                            </label>
                        </div>
                        <!-- Action buttons -->
                        <div class="mt-3 flex justify-end gap-2">
                            <button id="btnClearFilter" type="button" class="px-4 py-2 rounded-md border border-gray-300 text-gray-700 bg-white hover:bg-gray-50 text-sm">Borrar</button>
                            <button id="btnApplyFilters" type="button" class="px-4 py-2 rounded-md bg-primary text-white hover:opacity-90 text-sm">Aceptar</button>
                        </div>
                    </div>
                    <div id="searchResults" class="mt-2 text-sm text-gray-600 hidden">
                        <span id="searchResultsText"></span>
                    </div>
                </div>

                <div class="bg-white rounded-lg shadow-md p-6">
                    <h2 class="text-lg font-semibold text-gray-800 mb-4">LISTA DE CLIENTES</h2>
                    <div id="clientesLoading" class="hidden text-center py-8">
                        <div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary"></div>
                        <p class="mt-2 text-gray-600">Cargando clientes...</p>
                    </div>
                    <div id="clientesEmpty" class="hidden text-center py-8 text-gray-500">
                        <svg class="w-16 h-16 mx-auto mb-4 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
                        </svg>
                        <p>No se encontraron clientes</p>
                    </div>
                    <div id="clientesList" class="space-y-4">
                        <!-- Clientes will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Cliente Detail View -->
            <div id="cliente-detail-view" class="hidden">
                <!-- Client details will be loaded here -->
            </div>

            <!-- Documentos Pendientes View -->
            <div id="documentos-pendientes-view" class="hidden">
                <!-- Resumen de Cuentas por Cobrar -->
                <div class="bg-gray-100 p-4 mb-4">
                    <h2 class="text-sm font-medium text-gray-600 mb-3">CUENTAS POR COBRAR</h2>
                    <div class="grid grid-cols-3 gap-4 mb-3">
                        <div class="text-center">
                            <p class="text-xs text-gray-500">Vencido</p>
                            <p class="text-lg font-semibold text-red-500" id="resumenVencido">0</p>
                        </div>
                        <div class="text-center">
                            <p class="text-xs text-gray-500">Cantidad</p>
                            <p class="text-lg font-semibold text-red-500" id="resumenCantidadVencido">0</p>
                        </div>
                        <div class="text-center">
                            <p class="text-xs text-gray-500">Días</p>
                            <p class="text-lg font-semibold text-red-500" id="resumenDiasVencido">0</p>
                        </div>
                    </div>
                    <div class="grid grid-cols-3 gap-4 mb-3">
                        <div class="text-center">
                            <p class="text-xs text-gray-500">Total</p>
                            <p class="text-lg font-semibold text-gray-700" id="resumenTotal">0</p>
                        </div>
                        <div class="text-center">
                            <p class="text-xs text-gray-500">Cantidad</p>
                            <p class="text-lg font-semibold text-gray-700" id="resumenCantidadTotal">0</p>
                        </div>
                        <div class="text-center">
                            <p class="text-xs text-gray-500">Días</p>
                            <p class="text-lg font-semibold text-gray-700" id="resumenDiasTotal">0</p>
                        </div>
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <div class="text-center">
                            <p class="text-xs text-gray-500">Neto</p>
                            <p class="text-lg font-semibold text-gray-700" id="resumenNeto">0</p>
                        </div>
                        <div class="text-center">
                            <p class="text-xs text-gray-500">Créditos</p>
                            <p class="text-lg font-semibold text-red-500" id="resumenCreditos">0</p>
                        </div>
                    </div>
                </div>

                <!-- Lista de Documentos -->
                <div class="bg-gray-100 p-4">
                    <h2 id="globalPendingDocsTitle" class="text-sm font-medium text-gray-600 mb-4">DOCUMENTOS PENDIENTES</h2>
                    <div id="documentosPendientesLoading" class="hidden text-center py-8">
                        <div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary"></div>
                        <p class="mt-2 text-gray-600">Cargando documentos...</p>
                    </div>
                    <div id="documentosPendientesEmpty" class="hidden text-center py-8 text-gray-500">
                        <svg class="w-16 h-16 mx-auto mb-4 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                        </svg>
                        <p>No hay documentos pendientes</p>
                    </div>
                    <div id="documentosPendientesList" class="space-y-3">
                        <!-- Documentos will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Documento Detail View -->
            <div id="documento-detalle-view" class="hidden">
                <div id="documentoDetalleContent">
                    <!-- Content will be loaded dynamically -->
                </div>
            </div>

            <div id="sync-view" class="hidden">
                <div class="space-y-6">
                    <!-- Configuración de Importación -->
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <!-- <h2 class="text-lg font-semibold text-gray-800 mb-4">Importar desde SQL Server</h2> -->
                        
                        <!-- Botones de Acción -->
                        <div class="flex space-x-3 mb-4">
                            <button id="startImportBtn" class="flex-1 bg-primary text-white py-2 px-4 rounded-md hover:bg-opacity-90 transition-colors">
                                Sincronizar
                            </button>
                        </div>
                    </div>

                    <!-- Configuración de Importación -->
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <!-- Progress Bar -->
                        <div id="importProgress" class="hidden">
                            <div class="mb-2">
                                <div class="flex justify-between text-sm">
                                    <span id="progressText">Preparando...</span>
                                    <span id="progressPercentage">0%</span>
                                </div>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-2">
                                <div id="progressBar" class="bg-primary h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h2 class="text-lg font-semibold text-gray-800 mb-4">Almacenamiento Local</h2>
                        <div id="storageInfo2" class="space-y-3">
                            <div class="flex justify-between">
                                <span class="text-gray-600">Clientes:</span>
                                <span id="clientesCount2" class="font-medium">0</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-600">Documentos:</span>
                                <span id="documentosCount2" class="font-medium">0</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-600">Renglones de Documentos:</span>
                                <span id="renglonesCount2" class="font-medium">0</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-600">Última sincronización:</span>
                                <span id="lastSync2" class="font-medium text-sm">Nunca</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Import/Sync View -->
            <div id="mas-view" class="hidden">
                <div class="space-y-6">


                    <!-- Estado del Almacenamiento Local -->
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h2 class="text-lg font-semibold text-gray-800 mb-4">Almacenamiento Local</h2>
                        <div id="storageInfo" class="space-y-3">
                            <div class="flex justify-between">
                                <span class="text-gray-600">Clientes:</span>
                                <span id="clientesCount" class="font-medium">0</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-600">Documentos:</span>
                                <span id="documentosCount" class="font-medium">0</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-600">Renglones de Documentos:</span>
                                <span id="renglonesCount" class="font-medium">0</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-600">Última sincronización:</span>
                                <span id="lastSync" class="font-medium text-sm">Nunca</span>
                            </div>
                        </div>
                        
                        <button id="clearDataBtn" class="w-full mt-4 bg-red-500 text-white py-2 px-4 rounded-md hover:bg-red-600 transition-colors">
                            Limpiar Datos Locales
                        </button>

                        <button id="clearCacheBtn" class="w-full mt-4 bg-red-500 text-white py-2 px-4 rounded-md hover:bg-red-600 transition-colors">
                            Limpiar Cache
                        </button>
                    </div>

                    <!-- Configuración -->
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h2 class="text-lg font-semibold text-gray-800 mb-4">Configuración</h2>
                        <div class="space-y-4">
                            <div class="flex items-center justify-between">
                                <span class="text-gray-700">Modo offline</span>
                                <label class="relative inline-flex items-center cursor-pointer">
                                    <input type="checkbox" id="offlineMode" class="sr-only peer">
                                    <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"></div>
                                </label>
                            </div>
                            <!-- <div class="flex items-center justify-between">
                                <span class="text-gray-700">Sincronización automática</span>
                                <label class="relative inline-flex items-center cursor-pointer">
                                    <input type="checkbox" id="autoSync" class="sr-only peer">
                                    <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"></div>
                                </label>
                            </div> -->
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Bottom Navigation -->
        <nav class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-4 py-2">
            <div class="flex justify-around">
                <button class="nav-item flex flex-col items-center py-2 px-3 rounded-lg transition-colors active" data-view="dashboard">
                    <svg class="w-6 h-6 mb-1" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a2 2 0 012-2v2a2 2 0 01-2 2v2a2 2 0 01-2-2v-2a2 2 0 012-2h2.586a1 1 0 01.707.293l2.414 2.414a1 1 0 01.293.707V14a1 1 0 01-1 1H3z"></path>
                    </svg>
                    <span class="text-xs">Situación</span>
                </button>
                <button class="nav-item flex flex-col items-center py-2 px-3 rounded-lg transition-colors" data-view="clientes">
                    <svg class="w-6 h-6 mb-1" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"></path>
                    </svg>
                    <span class="text-xs">Clientes</span>
                </button>
                <button class="nav-item flex flex-col items-center py-2 px-3 rounded-lg transition-colors" data-view="mas">
                    <svg class="w-6 h-6 mb-1" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"></path>
                    </svg>
                    <span class="text-xs">Más</span>
                </button>
            </div>
        </nav>
    </div>

    <script src="/static/js/app.js"></script>
    <script src="/static/js/pwa.js"></script>
</body>
</html>